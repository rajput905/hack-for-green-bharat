# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║  GreenFlow AI – Environment Configuration Template                           ║
# ║  Copy this file to .env and fill in real values before running the app.      ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# ── Required ──────────────────────────────────────────────────────────────────
# OpenAI API key for the RAG chatbot engine.
# Get yours at: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-key-here

# SQLAlchemy async database URL.
# SQLite (dev):     sqlite+aiosqlite:///./greenflow.db
# PostgreSQL (prod): postgresql+asyncpg://user:pass@host/db
DATABASE_URL=sqlite+aiosqlite:///./greenflow.db

# Long random string used for internal security (e.g. HMAC signing).
# Generate one with: python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-this-to-a-long-random-string

# ── Application Mode ──────────────────────────────────────────────────────────
# APP_ENV controls runtime behaviour:
#   development  → /docs and /redoc are visible, DEBUG logging, relaxed CORS
#   production   → /docs and /redoc are hidden, INFO logging, strict CORS
APP_ENV=development

# Enable verbose DEBUG-level logging (true) or INFO-level (false).
# Should always be false in production.
DEBUG=false

APP_NAME=GreenFlow AI
APP_VERSION=1.0.0

# ── Pipeline ──────────────────────────────────────────────────────────────────
# Directory the streaming pipeline watches for incoming sensor JSONL files.
PIPELINE_INPUT_DIR=./data/input

# Output file for enriched event records.
PIPELINE_OUTPUT_FILE=./data/output/enriched.jsonl

# ── Vector Store (ChromaDB) ───────────────────────────────────────────────────
# Filesystem path where ChromaDB persists its vector index.
# The directory is created automatically at startup if it does not exist.
# Use an absolute path in production (e.g. /var/data/greenflow/chroma).
CHROMA_PERSIST_DIR=./data/chroma

# ChromaDB collection name for environmental documents.
RAG_COLLECTION_NAME=greenflow_docs

# ── CO₂ Thresholds ────────────────────────────────────────────────────────────
# CO2_WARNING_THRESHOLD: readings at or above this value trigger a "warning"
# severity level.  CPCB guideline: 350 ppm.
CO2_WARNING_THRESHOLD=350.0

# CO2_DANGER_THRESHOLD: readings at or above this value trigger a "danger"
# severity level and activate the alerting engine.  Regulatory limit: 400 ppm.
CO2_DANGER_THRESHOLD=400.0

# CO2_CRITICAL_THRESHOLD: readings at or above this value trigger a "critical"
# severity.  Above this point evacuation protocols should be considered.
CO2_CRITICAL_THRESHOLD=500.0

# Maximum possible risk score (do not change unless you retrain the model).
RISK_SCORE_MAX=1.0

# ── CORS ──────────────────────────────────────────────────────────────────────
# Comma-separated list of allowed origins. Use ["*"] for development only.
# Example prod value: https://greenflow.yourdomain.com
# (leave as default for the hackathon demo)
ALLOWED_ORIGINS=["*"]
